---
title: 在Markdown中使用PlantUML
date: 2020-06-24 15:47:49
tags: Markdown
---

## 配置环境

因为PlantUML是基于Java的,因此你需要先配置Java环境，然后下载[plantuml.jar](http://sourceforge.net/projects/plantuml/files/plantuml.jar/download)。

## 描述文件

描述文件demo.txt:

```
@startuml
start
:配置Java环境; 
:下载pantuml.jar;
:编写描述文件; 
:执行; 
stop
@enduml
```

## 执行Jar命令

```
java -jar plantuml.jar demo.txt
```

## 在Hexo中使用

在Hexo使用PlantUML要安装hexo-tag-plantuml插件
```
npm install hexo-tag-plantuml --save
```
## 在vscode中使用
在vscode中使用，在插件库中搜索plantuml，直接安装。vscode中的使用和Hexo的语法不一样
```
//Hexo的写法：
{% plantuml %}
@startuml
Class01 "1" *-- "many" Class02 : contains
Class03 o-- Class04 : aggregation
Class05 --> "1" Class06
@enduml
{% endplantuml %}

//vscode中的写法
​``` puml
@startuml
Class01 "1" *-- "many" Class02 : contains
Class03 o-- Class04 : aggregation
Class05 --> "1" Class06
@enduml
```

## 黑白模式
{% plantuml %}
@startuml
skinparam monochrome true
actor User
participant "First Class" as A
participant "Second Class" as B
participant "Last Class" as C
User -> A: DoWork
activate A
A -> B: Create Request
activate B
B -> C: DoWork
activate C
C --> B: WorkDone
destroy C
B --> A: Request Created
deactivate B
A --> User: Done
deactivate A
@enduml
{% endplantuml %}

## 时序图

{% plantuml %}
@startuml
actor Foo1
boundary Foo2
control Foo3
entity Foo4
database Foo5
collections Foo6
Foo1 -> Foo2 : To boundary
Foo1 -> Foo3 : To control
Foo1 -> Foo4 : To entity
Foo1 -> Foo5 : To database
Foo1 -> Foo6 : To collections
@enduml
{% endplantuml %}
## 用例图
{% plantuml %}
@startuml
left to right direction
skinparam packageStyle rectangle
actor customer
actor clerk
rectangle checkout {
  customer -- (checkout)
  (checkout) .> (payment) : include
  (help) .> (checkout) : extends
  (checkout) -- clerk
} @enduml
{% endplantuml %}
## 类图
{% plantuml %}
@startuml
Class01 "1" *-- "many" Class02 : contains
Class03 o-- Class04 : aggregation
Class05 --> "1" Class06
@enduml
{% endplantuml %}
## 活动图
{% plantuml %}

@startuml
(*) --> "Initialization"
if "Some Test" then
  -->[true] "Some Activity"
  --> "Another activity"
  -right-> (*)
else
  ->[false] "Something else"
  -->[Ending process] (*)
endif
@enduml
{% endplantuml %}
## 组件图
{% plantuml %}
@startuml
interface "Data Access" as DA
DA - [First Component]
[First Component] ..> HTTP : use
note left of HTTP : Web Service only
note right of [First Component]
  A note can also
  be on several lines
end note
@enduml
{% endplantuml %}
## 状态图
{% plantuml %}
@startuml
[*] --> State1
State1 --> [*]
State1 : this is a string
State1 : this is another string
State1 -> State2
State2 --> [*]
@enduml
{% endplantuml %}
## 对象图
{% plantuml %}
@startuml
object Object01
object Object02
object Object03
object Object04
object Object05
object Object06
object Object07
object Object08
Object01 <|-- Object02
Object03 *-- Object04
Object05 o-- "4" Object06
Object07 .. Object08 : some labels
@enduml
{% endplantuml %}
## Gantt Diagram
{% plantuml %}
@startgantt
[Prototype design] lasts 15 days
[Test prototype] lasts 10 days
[Test prototype] starts at [Prototype design]'s end
@endgantt
{% endplantuml %}
## 思维导图
{% plantuml %}
@startmindmap
* Debian
** Ubuntu
*** Linux Mint
*** Kubuntu
*** Lubuntu
*** KDE Neon
** LMDE
** SolydXK
** SteamOS
** Raspbian with a very long name
*** <s>Raspmbc</s> => OSMC
*** <s>Raspyfi</s> => Volumio
@endmindmap
{% endplantuml %}
## 组织结构图
{% plantuml %}
This syntax is compatible with OrgMode
@startwbs
* Business Process Modelling WBS
** Launch the project
*** Complete Stakeholder Research
*** Initial Implementation Plan
** Design phase
*** Model of AsIs Processes Completed
**** Model of AsIs Processes Completed1
**** Model of AsIs Processes Completed2
*** Measure AsIs performance metrics
*** Identify Quick Wins
** Complete innovate phase
@endwbs
{% endplantuml %}
## Salt
{% plantuml %}
@startsalt
{+
{/ <b>General | Fullscreen | Behavior | Saving }
{
{ Open image in: | ^Smart Mode^ }
[X] Smooth images when zoomed
[X] Confirm image deletion
[ ] Show hidden images
}
[Close]
}
@endsalt
{% endplantuml %}

## 其它

{% plantuml %}
@startuml
skinparam monochrome true
footer 头部示意图
:GET /2020/06/29/01/ HTTP/1.1
----
Host: hktkdy.com 
Proxy-Connection: keep-alive 
Upgrade-Insecure-Requests: 1 
User-Agent: Mozilla/5.0...
Accept-Encoding: gzip, deflate 
Accept:text/html,application/xhtml+xml
Accept-Language: zh-CN,zh;q=0.9
Cookie: _ga=GA1.2.44016
----
----
name=zhangsan&age=23
]

@enduml
{% endplantuml %}

{% plantuml %}
@startuml
salt
{+
	{* 基本标记 | 基本标记 }
  GET /2020/06/29/01/ HTTP/1.1
	note left: this is a first note
  Host: hktkdy.com 
  Proxy-Connection: keep-alive 
  Upgrade-Insecure-Requests: 1 
  User-Agent: Mozilla/5.0...
  Accept-Encoding: gzip, deflate 
  Accept:text/html,application/xhtml+xml
  Accept-Language: zh-CN,zh;q=0.9
  {* 特殊标记 }
  name=zhangsan&age=23
}

@enduml
{% endplantuml %}